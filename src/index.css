@import "tailwindcss";
@import "tw-animate-css";

@source "./**/*.{ts,tsx,js,jsx,html}";
@source "../index.html";

/* AQI Prediction App Design System - Environmental Health Theme */

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-map-route: hsl(var(--map-route));
  --color-map-start: hsl(var(--map-start));
  --color-map-end: hsl(var(--map-end));

  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));
}

@layer base {
  :root {
    /* Core colors - Clean environmental palette */
    --background: 0 0% 98%;
    --foreground: 200 25% 15%;

    --card: 0 0% 100%;
    --card-foreground: 200 25% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 200 25% 15%;

    /* Primary - Deep teal (environmental, trustworthy) */
    --primary: 174 62% 35%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Soft gray-blue */
    --secondary: 200 15% 94%;
    --secondary-foreground: 200 25% 25%;

    /* Muted - Subtle backgrounds */
    --muted: 200 10% 96%;
    --muted-foreground: 200 15% 50%;

    /* Accent - Warm amber for highlights */
    --accent: 38 92% 50%;
    --accent-foreground: 0 0% 100%;

    /* Destructive - Error states */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 200 15% 90%;
    --input: 200 15% 90%;
    --ring: 174 62% 35%;

    --radius: 0.75rem;

    /* AQI Category Colors */
    --aqi-good: 142 72% 45%;
    --aqi-moderate: 45 93% 50%;
    --aqi-unhealthy-sensitive: 30 95% 55%;
    --aqi-unhealthy: 0 72% 55%;
    --aqi-very-unhealthy: 280 60% 45%;
    --aqi-hazardous: 340 70% 35%;

    /* Map accent */
    --map-marker: 174 62% 35%;
    --map-route: 220 85% 55%;
    --map-start: 142 72% 45%;
    --map-end: 0 72% 55%;

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 hsl(200 25% 15% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(200 25% 15% / 0.1), 0 2px 4px -2px hsl(200 25% 15% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(200 25% 15% / 0.1), 0 4px 6px -4px hsl(200 25% 15% / 0.1);
    --shadow-xl: 0 20px 25px -5px hsl(200 25% 15% / 0.15), 0 8px 10px -6px hsl(200 25% 15% / 0.1);

    /* Sidebar (for future use) */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 200 25% 15%;
    --sidebar-primary: 174 62% 35%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 200 10% 96%;
    --sidebar-accent-foreground: 200 25% 25%;
    --sidebar-border: 200 15% 90%;
    --sidebar-ring: 174 62% 35%;
  }

  .dark {
    --background: 200 25% 8%;
    --foreground: 200 10% 95%;

    --card: 200 20% 12%;
    --card-foreground: 200 10% 95%;

    --popover: 200 20% 12%;
    --popover-foreground: 200 10% 95%;

    --primary: 174 55% 50%;
    --primary-foreground: 200 25% 8%;

    --secondary: 200 15% 18%;
    --secondary-foreground: 200 10% 85%;

    --muted: 200 15% 18%;
    --muted-foreground: 200 10% 60%;

    --accent: 38 85% 55%;
    --accent-foreground: 200 25% 8%;

    --destructive: 0 62% 45%;
    --destructive-foreground: 0 0% 100%;

    --border: 200 15% 20%;
    --input: 200 15% 20%;
    --ring: 174 55% 50%;

    --sidebar-background: 200 20% 10%;
    --sidebar-foreground: 200 10% 95%;
    --sidebar-primary: 174 55% 50%;
    --sidebar-primary-foreground: 200 25% 8%;
    --sidebar-accent: 200 15% 18%;
    --sidebar-accent-foreground: 200 10% 85%;
    --sidebar-border: 200 15% 20%;
    --sidebar-ring: 174 55% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer components {
  /* Panel styles */
  .panel {
    @apply bg-card rounded-xl shadow-md border border-border;
  }

  .panel-header {
    @apply px-5 py-4 border-b border-border;
  }

  .panel-body {
    @apply p-5;
  }

  /* AQI Badge styles */
  .aqi-badge {
    @apply inline-flex items-center justify-center px-3 py-1 rounded-full text-sm font-semibold text-white;
  }

  .aqi-good {
    background-color: hsl(var(--aqi-good));
  }

  .aqi-moderate {
    background-color: hsl(var(--aqi-moderate));
    color: hsl(var(--foreground));
  }

  .aqi-unhealthy-sensitive {
    background-color: hsl(var(--aqi-unhealthy-sensitive));
  }

  .aqi-unhealthy {
    background-color: hsl(var(--aqi-unhealthy));
  }

  .aqi-very-unhealthy {
    background-color: hsl(var(--aqi-very-unhealthy));
  }

  .aqi-hazardous {
    background-color: hsl(var(--aqi-hazardous));
  }

  /* Map container */
  .map-container {
    @apply w-full h-full rounded-xl overflow-hidden;
  }

  /* Custom scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  /* Form input focus ring */
  .input-focus {
    @apply focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200;
  }
}

@layer utilities {
  /* Glass effect */
  .glass {
    @apply bg-card/80 backdrop-blur-md;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-linear-to-r from-primary to-accent bg-clip-text text-transparent;
  }

  /* Fade in animation */
  .fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Pulse animation for loading states */
  .pulse-soft {
    animation: pulseSoft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulseSoft {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  /* Slide in from right */
  .slide-in-right {
    animation: slideInRight 0.3s ease-out;
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
}

/* Leaflet overrides */
.leaflet-container {
  font-family: inherit;
  z-index: 1;
}

.leaflet-popup-content-wrapper {
  @apply rounded-lg shadow-lg;
}

.leaflet-popup-content {
  @apply text-sm;
  margin: 12px 16px;
}

.leaflet-control-zoom {
  @apply border-0 shadow-lg rounded-lg overflow-hidden;
}

.leaflet-control-zoom a {
  @apply bg-card text-foreground border-0;
}

.leaflet-control-zoom a:hover {
  @apply bg-secondary;
}
